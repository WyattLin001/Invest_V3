---
description:Investâ€¯_V3 â€” å°ç£å»ä¸­å¿ƒåŒ–æ¨¡æ“¬æŠ•è³‡ç«¶è³½å¹³å°
1. ç”¢å“å®šä½èˆ‡é¡˜æ™¯
ä½¿å‘½ï¼šä»¥ LINE å¼æ˜“ç”¨é«”é©—ï¼Œçµåˆå€å¡Šéˆé€æ˜åº¦ï¼Œè®“å°ç£æŠ•è³‡ç¤¾ç¾¤å¯ä»¥åœ¨å®‰å…¨åˆè¦ç’°å¢ƒä¸‹é€²è¡Œæ¨¡æ“¬ç«¶è³½ã€é–±è®€é«˜å“è³ªå…§å®¹ä¸¦å›é¥‹å‰µä½œè€…ã€‚
æ ¸å¿ƒå·®ç•°åŒ–
1.	å°è‚¡å°ˆå±¬ï¼šè³‡æ–™æºæ¡è­‰äº¤æ‰€ï¼ˆTWSE/TPExï¼‰èˆ‡ TEJ åŠ Alphaâ€¯Vantage å°è‚¡æ“´å…… APIã€‚
2.	Web3 é€æ˜åº¦ï¼šæ‰€æœ‰è²·è³£æŒ‡ä»¤ã€å…¥æœƒè²»ã€æŠ–å…§èˆ‡ç´…åˆ©è¨˜éŒ„çš†ä¸Šéˆï¼ˆSolanaï¼‰ä¸¦ä»¥ Supabase å¿«å–ï¼å‚™ä»½ã€‚
3.	Creator Economyï¼šé¡ Seekingâ€¯Alpha çš„å…§å®¹ï¼‹æŠ–å…§ï¼åˆ†æ½¤æ©Ÿåˆ¶ï¼Œæ”¯æ´æ¯æ—¥å…è²»é¡åº¦èˆ‡ä»˜è²»è¨‚é–±ã€‚
 
2. é‡Œç¨‹ç¢‘è¦åŠƒ
æ™‚ç¨‹	ç‰ˆæœ¬	MVP ç›®æ¨™	æ¬¡è¦åŠŸèƒ½	ä¾è³´ & é¢¨éšª
M1 (0 4 é€±)	v0.1	â€¢ iOS æ¡†æ¶ (5 Tab) â€¢ Supabase æ¶æ§‹ & RLS â€¢ å°è‚¡å ±åƒ¹å¿«å– (æ‹‰ 5 æª”) â€¢ æ¨¡æ“¬çµ„åˆ CRUD â€¢ ç¾¤çµ„èŠå¤© (ç„¡å³æ™‚)	â€”	â€¢ å°è‚¡ API éœ€è½‰æª” â€¢ RLS æ¸¬è©¦
M2 (5 8 é€±)	v0.2	â€¢ å³æ™‚èŠå¤©å®¤ (Supabase Realtime) â€¢ æŠ•è³‡æŒ‡ä»¤è§£æèˆ‡å›æ¸¬ â€¢ æ’åæ¦œå–® (æ¯é€±/å­£) â€¢ InfoView å…è²»æ–‡ç«  (3/æ—¥)	â€¢ Headless CMS æ•´åˆ	â€¢ å³æ™‚è¨Šæ¯å»¶é²
M3 (9 12 é€±)	v0.3	â€¢ æ–‡ç« ä»˜è²»ç‰† + è¨‚é–± In App Purchase â€¢ æŠ–å…§ç¦®ç‰©é£›å…¥å‹•ç•« â€¢ Wallet   æ¨¡æ“¬ NTD é¤˜é¡ â€¢ KYC Placeholder	â€”	â€¢ IAP Sandbox æµç¨‹
M4 (13 16 é€±)	v1.0	â€¢ Solana tx ç°½åï¼ˆæŒ‡ä»¤/æŠ–å…§ï¼‰ â€¢ ä¸»æŒäººæé ˜æµç¨‹ (å¾Œå°) â€¢ iPad Layout & æ·±è‰²æ¨¡å¼ â€¢ æ³•éµè²æ˜ï¼éš±ç§	â€¢ Governance token è‰ç¨¿	â€¢ åŠ å¯†éŒ¢åŒ… UX
ğŸ’¡ é‡‘æµæ•´åˆï¼ˆè¡—å£/è—æ–°ï¼‰ç½®æ–¼ Post MVPï¼Œå…ˆä»¥æ¨¡æ“¬é¤˜é¡ + Apple IAP ä»˜è²»ç‰†é©—è­‰å•†æ¥­æ¨¡å¼ã€‚
 
3. ç³»çµ±æ¶æ§‹
flowchart LR
    subgraph iOS
      A[SwiftUI App]
    end
    subgraph Cloud
      B[Supabase<br/>Postgres â€¢ RLS â€¢ Realtime â€¢ Storage]
      C[Edge Functions<br/>TypeScript Cron]
    end
    subgraph Chain
      D[Solana RPC]
    end
    subgraph Data
      E[Alpha Vantage / TWSE]
    end

    A -- REST/WS --> B
    B -- trigger --> C
    C -- tx hash --> D
    A -- price feed --> E
3.1 å‰ç«¯
â€¢	èªè¨€/æ¡†æ¶ï¼šSwift 5.9ã€SwiftUIã€Combineã€@Observable
â€¢	æ¨¡çµ„åŒ–ï¼šæ¯å€‹ Tab ä¸€å€‹ Swift Package (Home, Chat, Info, Wallet, Settings)
â€¢	è·¯ç”±ï¼šNavigationStack + deep linkï¼ŒURL Scheme investv3://
â€¢	æœ¬åœ°å¿«å–ï¼šAppStorage(UserDefaults) + FileCache åœ–ç‰‡
â€¢	CI/CDï¼šXcode Cloud â†’ TestFlight â€“> App Store Connect
3.2 å¾Œç«¯ (Supabase)
â€¢	è¡¨çµæ§‹ï¼šusers, investment_groups, chat_messages, portfolio_transactions, articles, article_likes, article_comments, wallet_transactions
â€¢	RLSï¼šé‡å° user_id æ¬Šé™ï¼Œç¾¤çµ„æ“ä½œ via membership ç¢ºèª
â€¢	Edgeâ€¯Functionsï¼š
o	calculate_return_rate.ts â€” 5 min cron æŠ“è‚¡åƒ¹è¨ˆç®—å›å ±ç‡
o	creator_bonus.ts â€” æ¯æ—¥çµç®—é–±è®€é‡ / è¨‚é–±åˆ†æ½¤
3.3 ç¬¬ä¸‰æ–¹æœå‹™
åŠŸèƒ½	MVP Provider	æ›¿ä»£æ–¹æ¡ˆ
å°è‚¡å ±åƒ¹	Alpha Vantage (å°è‚¡çµ‚ç«¯é»)	Fugle API
IAP	Apple StoreKit 2	RevenueCat
æ¨æ’­	OneSignal Free	Firebase FCM
 
4. è³‡æ–™æ¨¡å‹ï¼ˆç²¾ç°¡ï¼‰
-- æ–‡ç« è¡¨
CREATE TABLE articles (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  author_id UUID REFERENCES users(id),
  title TEXT NOT NULL,
  summary TEXT,
  body TEXT,
  category TEXT,
  is_free BOOLEAN DEFAULT TRUE,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT now()
);

-- è™›æ“¬äº¤æ˜“
CREATE TABLE portfolio_transactions (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id),
  symbol TEXT,
  action TEXT CHECK (action IN ('buy','sell')),
  amount NUMERIC,
  price NUMERIC,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT now()
);
(å®Œæ•´ schema å·²æ”¶éŒ„æ–¼ Supabase SQL)
 
5. æ³•éµ & åˆè¦
1.	KYCï¼šæ¡ã€Œå¾Œç¶æµç¨‹ã€â€”â€” æé ˜çœŸå¯¦ NTD æ‰éœ€æäº¤èº«åˆ†è­‰ + ç¬¬äºŒè­‰ä»¶ã€‚
2.	è­‰äº¤æ‰€æˆæ¬Šï¼šåƒ…ç”¨æ–¼æ¨¡æ“¬å›æ¸¬ï¼Œå±•ç¤ºå»¶é² > 20 åˆ†é˜å°è‚¡åƒ¹ã€‚
3.	é‡‘æµï¼šApple IAP å±¬ã€Œæ•¸ä½å…§å®¹ï¼è¨‚é–±ã€ï¼›å¯¦é«” NTD å…¥æœƒè²»æ—¥å¾Œéœ€æ¥è¡—å£æˆ–è—æ–°ä¸¦è¾¦ç†ç‰¹åº—ã€‚
4.	å€‹è³‡ï¼šSupabase Storage å­˜é ­åƒï¼ŒRLS ç¦æ­¢è·¨ç”¨æˆ¶è®€å¯«ã€‚
 
6. å¾…è¾¦èˆ‡åˆ†å·¥ï¼ˆM2 å‰ï¼‰
Owner	Issue	PRD Link
iOS	InfoView â†”ï¸ Supabase articles	#12
Backend	RLS Policy for portfolio_transactions	#9
UX	Figma æ·±è‰²æ¨¡å¼ token	#7
 
7. UI / UX è©³è¦ï¼ˆiOS Full Stack å¯¦ä½œåƒè€ƒï¼‰
âœ¨ æ‰€æœ‰å°ºå¯¸ä»¥ iPhone 14â€¯Pro (390Ã—844 pt) ç‚ºåŸºæº–ï¼Œé™¤éç‰¹åˆ¥æ¨™è¨»ã€‚
7.1 Design Tokens
Token	Light	Dark	èªªæ˜
--brand green	#00B900	#00B900	ä¸»è¦ CTA / Toggle ON
--brand orange	#FD7E14	#FD7E14	ä»˜è²»ï¼è­¦ç¤º CTA
--gray 100	#F7F7F7	#121212	èƒŒæ™¯ Layer 1
--gray 900	#1E1E1E	#E0E0E0	ä¸»è¦æ–‡æœ¬
Radius	12 pt	â€”	å…¨åŸŸåœ“è§’
Shadow	0 2 2 #0000000D	0 2 2 #00000033	å¡ç‰‡ Elevation 1
7.2 å…±ç”¨å…ƒä»¶
å…ƒä»¶	File Name	Props	è¡Œç‚º
GreenButton	UI/Buttons/GreenButton.swift	title:String, icon:SF?, isDisabled:Bool	opacity 0.3 on disabled
SegmentedTab	UI/Tab/CategorySegment.swift	items:[String], selected:Int	withAnimation(.easeInOut(duration:0.2))
PieChartView	UI/Charts/PieChartView.swift	data:[(label,String,percent,Color)]	130â€¯ms spring äº¤äº’æ”¾å¤§
7.3 å„ç•«é¢è¦æ ¼
Home
â€¢	Safe area top 54 pt (é¤˜é¡åˆ—)ï¼Œåº•éƒ¨ TabBar 60 ptã€‚
â€¢	ChampionCarousel å¯¬ 360 ptï¼Œé«˜ 130 ptï¼Œä½¿ç”¨ TabView(.page)ã€‚
â€¢	é¡åˆ¥ç¯©é¸ ScrollView(.horizontal)ï¼›Item 46Ã—32 ptã€‚
â€¢	ç¾¤çµ„ GroupCardï¼šå…§é‚Šè· 16 ptï¼Œå¡ç‰‡é«˜åº¦ 94 ptï¼›ä½¿ç”¨ HStack + Spacer()ï¼›å³å´ JoinButton å¯¬ 88 ptã€‚
Chat
â€¢	Message Bubbleï¼š
o	Host æŒ‡ä»¤ isCommand==true â†’ èƒŒæ™¯ brand blue #007BFF, ç™½å­—ã€‚
o	è§’åŠå¾‘ host 12 pt, arrow ä¸åšã€‚
â€¢	æŠ•è³‡é¢æ¿
o	é¡¶éƒ¨æŠ˜ç–Šæ‰‹æŸ„ RoundedRectangle 24 Ã— 4 ptã€‚
o	PieChartView å›ºå®š 90 Ã— 90 ptï¼Œå³å´æ–‡å­—åˆ—é–“è· 6 ptã€‚
Info (æ–‡ç« åˆ—è¡¨)
å€åŸŸ	å°ºå¯¸	æ³¨æ„äº‹é …
æœå°‹æ¡†	343Ã—40 pt	å·¦ icon 20 ptï¼Œå­—é«” body 14 pt
ArticleCard	343Ã—116 pt	å½±é™°ï¼šElevation 1
Tag	46Ã—20 pt	caption2 å­—é«”ï¼Œåœ“è§’ 10 pt
æ¨è–¦ä½œè€…	å¡ç‰‡å¯¬ 70 pt	æŒ‰éˆ• FollowButton â†”ï¸ FollowingButton å‹•ç•« fade
Wallet
â€¢	é¤˜é¡æ¨™é¡Œå³å°é½Šï¼›ä½¿ç”¨ Text + .monospacedDigit() ä¿æŒå°é½Šã€‚
â€¢	GiftStoreCellï¼šåˆ—è¡¨å¯¬ 327 ptï¼Œé«˜ 92 ptï¼›å·¦ Emoji 48 ptã€‚
â€¢	æé ˜å½ˆçª—ï¼šä½¿ç”¨ Alertï¼›äºŒæ¬¡ç¢ºèª Destructive styleã€‚
Settings
â€¢	å€‹äººé ­åƒåœ–æª”è£åˆ‡ç‚º 512Ã—512 JPGã€‚
â€¢	QR Code æ”¾å¤§è¦–åœ–ï¼šèƒŒæ™¯ systemBackground 90% â†’ ç™½å¡ç‰‡åœ“è§’ 24 ptã€‚
â€¢	é€šçŸ¥é–‹é—œä½¿ç”¨ ToggleStyle(.switch) + tint: brand greenã€‚
7.4 å‹•æ•ˆèˆ‡æ‰‹å‹¢
å…ƒä»¶	å‹•æ•ˆ	åƒæ•¸
Tab åˆ‡æ›	slide	0.15 s
Join Group	scale (0.1) â†’ 1	spring 0.4
ç¦®ç‰©é£›å…¥	offset(y:-120) + opacity	0.5 s easeOut
7.5 ç„¡éšœç¤™ï¼åœ¨åœ°åŒ–
â€¢	ä½¿ç”¨ Text("ä¸»é ", tableName:"Localizable")ï¼›èªç³»æª” zh Hant, enã€‚
â€¢	Dynamic Type æ”¯æ´ï¼šå­—é«”æ¡ Font.bodyã€Font.title3ã€‚
â€¢	VoiceOverï¼šmessage bubble accessibilityLabel çµ„åˆã€ŒTom èªªï¼šæ–‡å­—å…§å®¹ã€ã€‚
7.6 Figma æª”æ¡ˆçµæ§‹ï¼ˆfor Handoffï¼‰
ğŸ“ Invest V3
  â”œâ”€ ğŸŒ Design Tokens
  â”œâ”€ ğŸ“± iOS / iPhone14Pro / Light
  â”‚     â”œâ”€ Home
  â”‚     â”œâ”€ Chat
  â”‚     â”œâ”€ Info
  â”‚     â”œâ”€ Wallet
  â”‚     â””â”€ Settings
  â”œâ”€ ğŸ“± iOS / iPhone14Pro / Dark
  â””â”€ ğŸ–¥  Icons & Emoji Assets
æ¯å€‹ Component çš†å‘½å Prefix_ComponentName; ä¾‹å¦‚ Info_ArticleCard / Defaultã€‚

globs:
alwaysApply: false
---
