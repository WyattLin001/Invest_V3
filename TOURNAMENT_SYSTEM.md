# üèÜ Èå¶Ê®ôË≥ΩÁ≥ªÁµ±Êû∂ÊßãËàáÁ∂≠Ë≠∑ÊåáÂçó

> **ÁâàÊú¨**: 2.0.0  
> **ÊúÄÂæåÊõ¥Êñ∞**: 2025-08-12  
> **Á∂≠Ë≠∑Ë≤†Ë≤¨‰∫∫**: ÈñãÁôºÂúòÈöä  
> **ÊñáÊ™îÁãÄÊÖã**: üü¢ ÊúÄÊñ∞

## üìã ÁõÆÈåÑ

- [Á≥ªÁµ±Ê¶ÇË¶Ω](#-Á≥ªÁµ±Ê¶ÇË¶Ω)
- [Êû∂ÊßãË®≠Ë®à](#-Êû∂ÊßãË®≠Ë®à)
- [Ê†∏ÂøÉÊúçÂãô](#-Ê†∏ÂøÉÊúçÂãô)
- [Êï∏ÊìöÊ®°Âûã](#-Êï∏ÊìöÊ®°Âûã)
- [Áî®Êà∂ÁïåÈù¢](#-Áî®Êà∂ÁïåÈù¢)
- [Ê∏¨Ë©¶È´îÁ≥ª](#-Ê∏¨Ë©¶È´îÁ≥ª)
- [Êï∏ÊìöÈÅ∑Áßª](#-Êï∏ÊìöÈÅ∑Áßª)
- [ÈÉ®ÁΩ≤ÊåáÂçó](#-ÈÉ®ÁΩ≤ÊåáÂçó)
- [Á∂≠Ë≠∑ÊâãÂÜä](#-Á∂≠Ë≠∑ÊâãÂÜä)
- [ÊïÖÈöúÊéíÈô§](#-ÊïÖÈöúÊéíÈô§)
- [ÈñãÁôºÊåáÂçó](#-ÈñãÁôºÊåáÂçó)

---

## üéØ Á≥ªÁµ±Ê¶ÇË¶Ω

### ÂäüËÉΩÁâπËâ≤
- **Èå¶Ê®ôË≥ΩÁÆ°ÁêÜ**: ÂâµÂª∫„ÄÅÈÖçÁΩÆ„ÄÅÁÆ°ÁêÜÊäïË≥áÈå¶Ê®ôË≥Ω
- **Áî®Êà∂ÂèÉËàá**: Â†±Âêç„ÄÅ‰∫§Êòì„ÄÅÊéíË°åÊ¶úÁ´∂Áà≠
- **ÂØ¶ÊôÇÊéíÂêç**: 30ÁßíÈñìÈöîÁöÑÊéíË°åÊ¶úÊõ¥Êñ∞
- **Ëá™ÂãïÁµêÁÆó**: Èå¶Ê®ôË≥ΩÁµêÊùüÂæåÁöÑËá™ÂãïÁµêÁÆóÂíåÁçéÂãµÂàÜÁôº
- **Â§öÈå¶Ê®ôË≥ΩÊîØÊåÅ**: ÂêåÊôÇÈÄ≤Ë°åÂ§öÂÄãÈå¶Ê®ôË≥ΩÁöÑÈöîÈõ¢ÈÅãË°å

### ÊäÄË°ìÊ£ß
- **ÂâçÁ´Ø**: SwiftUI + MVVM
- **ÂæåÁ´Ø**: Supabase (PostgreSQL + Realtime)
- **Êû∂Êßã**: ÂæÆÊúçÂãôÊû∂Êßã + Â∑•‰ΩúÊµÅÁ®ãÊúçÂãô
- **Ê∏¨Ë©¶**: XCTest + XCUITest
- **CI/CD**: Ëá™ÂãïÂåñÊ∏¨Ë©¶ËÖ≥Êú¨

---

## üèó Êû∂ÊßãË®≠Ë®à

### Á≥ªÁµ±Êû∂ÊßãÂúñ

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        UI Layer                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ Tournament      ‚îÇ  ‚îÇ Tournament      ‚îÇ  ‚îÇ Tournament  ‚îÇ ‚îÇ
‚îÇ  ‚îÇ Selection View  ‚îÇ  ‚îÇ Detail View     ‚îÇ  ‚îÇ Trading     ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Workflow Service Layer                   ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ            TournamentWorkflowService                   ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ Áµ±‰∏ÄÊ•≠ÂãôÊµÅÁ®ãÁÆ°ÁêÜ                                      ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ ÊúçÂãôÂçîË™øÂíåÈåØË™§ËôïÁêÜ                                    ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ ‰∫ãÂãôÁÆ°ÁêÜÂíåÁãÄÊÖãÂêåÊ≠•                                    ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     Service Layer                          ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇTournament   ‚îÇ ‚îÇTrade        ‚îÇ ‚îÇWallet       ‚îÇ ‚îÇRanking  ‚îÇ ‚îÇ
‚îÇ ‚îÇService      ‚îÇ ‚îÇService      ‚îÇ ‚îÇService      ‚îÇ ‚îÇService  ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                                             ‚îÇ
‚îÇ ‚îÇBusiness     ‚îÇ                                             ‚îÇ
‚îÇ ‚îÇService      ‚îÇ                                             ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                      Data Layer                            ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇTournaments  ‚îÇ ‚îÇTrades       ‚îÇ ‚îÇWallets      ‚îÇ ‚îÇRankings ‚îÇ ‚îÇ
‚îÇ ‚îÇTable        ‚îÇ ‚îÇTable        ‚îÇ ‚îÇTable        ‚îÇ ‚îÇTable    ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### ‰æùË≥¥Ê≥®ÂÖ•Êû∂Êßã

```swift
// ÊúçÂãôÊ≥®ÂÖ•ÊµÅÁ®ã
AppBootstrapper
    ‚îú‚îÄ‚îÄ TournamentWorkflowService
    ‚îÇ   ‚îú‚îÄ‚îÄ TournamentService
    ‚îÇ   ‚îú‚îÄ‚îÄ TournamentTradeService
    ‚îÇ   ‚îú‚îÄ‚îÄ TournamentWalletService
    ‚îÇ   ‚îú‚îÄ‚îÄ TournamentRankingService
    ‚îÇ   ‚îî‚îÄ‚îÄ TournamentBusinessService
    ‚îî‚îÄ‚îÄ Environment Objects
```

---

## üîß Ê†∏ÂøÉÊúçÂãô

### 1. TournamentWorkflowService
**ËÅ∑Ë≤¨**: Áµ±‰∏ÄÊ•≠ÂãôÊµÅÁ®ãÁÆ°ÁêÜ
```swift
// Ê†∏ÂøÉÊñπÊ≥ï
- createTournament(_:) -> Tournament
- joinTournament(tournamentId:) -> Void
- executeTournamentTrade(_:) -> TournamentTrade
- updateLiveRankings(tournamentId:) -> [TournamentRanking]
- settleTournament(tournamentId:) -> [TournamentResult]
```

**Êñá‰ª∂‰ΩçÁΩÆ**: `/Services/TournamentWorkflowService.swift`

### 2. TournamentService
**ËÅ∑Ë≤¨**: Èå¶Ê®ôË≥ΩÊï∏ÊìöÁÆ°ÁêÜ
```swift
// Ê†∏ÂøÉÊñπÊ≥ï
- createTournament(_:) -> Void
- getTournament(id:) -> Tournament?
- updateTournamentStatus(_:to:) -> Void
- getAllTournaments() -> [Tournament]
- getFeaturedTournaments() -> [Tournament]
```

**Êñá‰ª∂‰ΩçÁΩÆ**: `/Services/TournamentService.swift`

### 3. TournamentTradeService
**ËÅ∑Ë≤¨**: ‰∫§ÊòìÂü∑Ë°åÊúçÂãô
```swift
// Ê†∏ÂøÉÊñπÊ≥ï
- executeTradeRaw(_:) -> TournamentTrade
- validateTrade(_:) -> Bool
- getTradeHistory(tournamentId:userId:) -> [TournamentTrade]
```

**Êñá‰ª∂‰ΩçÁΩÆ**: `/Services/TournamentTradeService.swift`

### 4. TournamentWalletService
**ËÅ∑Ë≤¨**: Èå¢ÂåÖÁÆ°ÁêÜÊúçÂãô
```swift
// Ê†∏ÂøÉÊñπÊ≥ï
- createWallet(tournamentId:userId:initialBalance:) -> Void
- getWallet(tournamentId:userId:) -> TournamentWallet?
- updateWalletAfterTrade(_:) -> Void
- calculateTotalAssets(_:) -> Double
```

**Êñá‰ª∂‰ΩçÁΩÆ**: `/Services/TournamentWalletService.swift`

### 5. TournamentRankingService
**ËÅ∑Ë≤¨**: ÊéíÂêçË®àÁÆóÊúçÂãô
```swift
// Ê†∏ÂøÉÊñπÊ≥ï
- updateLiveRankings(tournamentId:) -> [TournamentRanking]
- getRankings(tournamentId:) -> [TournamentRanking]
- calculateUserRank(tournamentId:userId:) -> Int
```

**Êñá‰ª∂‰ΩçÁΩÆ**: `/Services/TournamentRankingService.swift`

---

## üìä Êï∏ÊìöÊ®°Âûã

### ‰∏ªË¶ÅÊï∏ÊìöÁµêÊßã

#### Tournament
```swift
struct Tournament: Identifiable, Codable {
    let id: UUID
    let name: String
    let description: String
    let status: TournamentLifecycleState  // upcoming, active, ended, cancelled, settling
    let startDate: Date
    let endDate: Date
    let entryCapital: Double
    let maxParticipants: Int
    let currentParticipants: Int
    let feeTokens: Int
    let returnMetric: String              // "twr", "absolute"
    let resetMode: String                 // "daily", "weekly", "monthly"
    let createdAt: Date
    let rules: TournamentRules?
}
```

#### TournamentRules
```swift
struct TournamentRules: Codable {
    let allowShortSelling: Bool
    let maxPositionSize: Double           // 0.0-1.0
    let allowedInstruments: [String]      // ["stocks", "etfs", "options"]
    let tradingHours: TradingHours
    let riskLimits: RiskLimits?
}
```

#### TournamentTrade
```swift
struct TournamentTrade: Identifiable, Codable {
    let id: UUID
    let tournamentId: UUID
    let userId: UUID
    let symbol: String
    let side: TradeSide                   // buy, sell
    let quantity: Int
    let price: Double
    let executedAt: Date
    let status: TradeStatus               // pending, filled, cancelled
}
```

#### TournamentWallet
```swift
struct TournamentWallet: Identifiable, Codable {
    let id: UUID
    let tournamentId: UUID
    let userId: UUID
    let cash: Double
    let totalAssets: Double
    let positions: [TournamentPosition]
    let createdAt: Date
    let updatedAt: Date
}
```

### Êï∏ÊìöÂ∫´Ë°®ÁµêÊßã

```sql
-- ‰∏ªË¶ÅË°®ÁµêÊßã
tournaments (
    id UUID PRIMARY KEY,
    name TEXT NOT NULL,
    description TEXT,
    status tournament_status,
    start_date TIMESTAMP,
    end_date TIMESTAMP,
    entry_capital DECIMAL,
    max_participants INTEGER,
    current_participants INTEGER DEFAULT 0,
    created_at TIMESTAMP DEFAULT NOW()
);

tournament_participants (
    tournament_id UUID REFERENCES tournaments(id),
    user_id UUID,
    joined_at TIMESTAMP DEFAULT NOW(),
    PRIMARY KEY (tournament_id, user_id)
);

tournament_wallets (
    id UUID PRIMARY KEY,
    tournament_id UUID REFERENCES tournaments(id),
    user_id UUID,
    cash DECIMAL,
    total_assets DECIMAL,
    created_at TIMESTAMP DEFAULT NOW()
);

tournament_trades (
    id UUID PRIMARY KEY,
    tournament_id UUID REFERENCES tournaments(id),
    user_id UUID,
    symbol TEXT,
    side trade_side,
    quantity INTEGER,
    price DECIMAL,
    executed_at TIMESTAMP DEFAULT NOW()
);
```

---

## üé® Áî®Êà∂ÁïåÈù¢

### Ë¶ñÂúñÁµêÊßã

```
MainAppView
‚îú‚îÄ‚îÄ ContentView (TabView)
‚îÇ   ‚îú‚îÄ‚îÄ HomeView (Tab 0)
‚îÇ   ‚îú‚îÄ‚îÄ ModernTournamentSelectionView (Tab 1) ‚≠ê Èå¶Ê®ôË≥Ω
‚îÇ   ‚îú‚îÄ‚îÄ ChatView (Tab 2)
‚îÇ   ‚îú‚îÄ‚îÄ InfoView (Tab 3)
‚îÇ   ‚îú‚îÄ‚îÄ WalletView (Tab 4)
‚îÇ   ‚îú‚îÄ‚îÄ AuthorEarningsView (Tab 5)
‚îÇ   ‚îî‚îÄ‚îÄ SettingsView (Tab 6)
‚îî‚îÄ‚îÄ TournamentDetailView (Sheet)
```

### ‰∏ªË¶ÅË¶ñÂúñÁµÑ‰ª∂

#### 1. ModernTournamentSelectionView
**ÂäüËÉΩ**: Èå¶Ê®ôË≥ΩÁÄèË¶ΩÂíåÈÅ∏Êìá
- ÁØ©ÈÅ∏Ê®ôÁ±§ (active, upcoming, ended, joined, created)
- ÊêúÂ∞ãÂäüËÉΩ
- Áèæ‰ª£ÂåñÂç°ÁâáË®≠Ë®à
- Á≤æÈÅ∏Èå¶Ê®ôË≥ΩÊ©´ÂπÖ

**Êñá‰ª∂‰ΩçÁΩÆ**: `/Views/ModernTournamentSelectionView.swift`

#### 2. TournamentDetailView
**ÂäüËÉΩ**: Èå¶Ê®ôË≥ΩË©≥Á¥∞Ë≥áË®ä
- Ë¶èÂâáÂíåË®≠ÂÆöÈ°ØÁ§∫
- ÂèÉËàáËÄÖÁµ±Ë®à
- ÊôÇÈñìÂÆâÊéí
- Âä†ÂÖ•/Êü•ÁúãÊìç‰Ωú

**Êñá‰ª∂‰ΩçÁΩÆ**: `/Views/TournamentDetailView.swift`

#### 3. TournamentCreationView
**ÂäüËÉΩ**: ÂâµÂª∫Êñ∞Èå¶Ê®ôË≥Ω
- Ë°®ÂñÆÈ©óË≠â
- Ë¶èÂâáÈÖçÁΩÆ
- ÊôÇÈñìË®≠ÂÆö

**Êñá‰ª∂‰ΩçÁΩÆ**: `/Views/TournamentCreationView.swift`

#### 4. LiveTournamentRankingsView
**ÂäüËÉΩ**: ÂØ¶ÊôÇÊéíË°åÊ¶ú
- 30ÁßíËá™ÂãïÂà∑Êñ∞
- Áî®Êà∂Ë©≥ÊÉÖÊü•Áúã
- Á∏æÊïàÁµ±Ë®à

**Êñá‰ª∂‰ΩçÁΩÆ**: `/Views/LiveTournamentRankingsView.swift`

---

## üß™ Ê∏¨Ë©¶È´îÁ≥ª

### Ê∏¨Ë©¶ÁµêÊßã

```
Tests/
‚îú‚îÄ‚îÄ TournamentWorkflowServiceTests.swift     # ÊúçÂãôÂ±§ÂñÆÂÖÉÊ∏¨Ë©¶
‚îú‚îÄ‚îÄ TournamentIntegrationTests.swift        # ÈõÜÊàêÊ∏¨Ë©¶
‚îú‚îÄ‚îÄ TournamentPortfolioIntegrationTests.swift # ËàäÁâàÊ∏¨Ë©¶ (ÂæÖÊõ¥Êñ∞)
‚îî‚îÄ‚îÄ UI Tests/
    ‚îî‚îÄ‚îÄ TournamentUITests.swift              # UIËá™ÂãïÂåñÊ∏¨Ë©¶
```

### Ê∏¨Ë©¶Ë¶ÜËìãÁØÑÂúç

| Ê∏¨Ë©¶È°ûÂûã | Ë¶ÜËìãÁØÑÂúç | Êñá‰ª∂ |
|---------|---------|------|
| **ÂñÆÂÖÉÊ∏¨Ë©¶** | ÊúçÂãôÂ±§ÈÇèËºØ„ÄÅÈåØË™§ËôïÁêÜ„ÄÅÊï∏ÊìöÈ©óË≠â | `TournamentWorkflowServiceTests.swift` |
| **ÈõÜÊàêÊ∏¨Ë©¶** | ÂÆåÊï¥Ê•≠ÂãôÊµÅÁ®ã„ÄÅ‰∏¶ÁôºÊìç‰Ωú„ÄÅÊÄßËÉΩÊ∏¨Ë©¶ | `TournamentIntegrationTests.swift` |
| **UIÊ∏¨Ë©¶** | Áî®Êà∂‰∫§‰∫í„ÄÅÁïåÈù¢ÈüøÊáâ„ÄÅÁ´ØÂà∞Á´ØÊµÅÁ®ã | `TournamentUITests.swift` |

### Âü∑Ë°åÊ∏¨Ë©¶

#### Ëá™ÂãïÂåñËÖ≥Êú¨
```bash
# ÈÅãË°åÊâÄÊúâÊ∏¨Ë©¶
./Scripts/run_tournament_tests.sh all

# Âè™ÈÅãË°åÂñÆÂÖÉÊ∏¨Ë©¶
./Scripts/run_tournament_tests.sh unit

# ÈÅãË°åUIÊ∏¨Ë©¶
./Scripts/run_tournament_tests.sh ui "iPhone 15"

# ÁîüÊàêÊ∏¨Ë©¶Â†±Âëä
./Scripts/run_tournament_tests.sh all "iPhone 15" true
```

#### ÊâãÂãïÂü∑Ë°å
```bash
# Xcode ÂëΩ‰ª§Ë°å
xcodebuild test \
  -project Invest_V3.xcodeproj \
  -scheme Invest_V3 \
  -destination "platform=iOS Simulator,name=iPhone 15" \
  -only-testing:Invest_V3Tests/TournamentWorkflowServiceTests
```

### Ê∏¨Ë©¶Êï∏ÊìöÁÆ°ÁêÜ

```swift
// Ê∏¨Ë©¶ËºîÂä©ÊñπÊ≥ï
func createTestTournament() -> Tournament { ... }
func createMockRanking() -> TournamentRanking { ... }
func generateSampleTournaments() -> [Tournament] { ... }

// Mock ÊúçÂãô
class MockTournamentService: TournamentService { ... }
class MockTournamentTradeService: TournamentTradeService { ... }
```

---

## üì¶ Êï∏ÊìöÈÅ∑Áßª

### ÈÅ∑ÁßªÁ≥ªÁµ±Ê¶ÇË¶Ω

**ÁõÆÁöÑ**: ÂæûËàäÊï∏ÊìöÊ®°ÂûãÁÑ°Á∏´ÈÅ∑ÁßªÂà∞Êñ∞Êû∂Êßã
**ÁÆ°ÁêÜÂô®**: `TournamentDataMigration.swift`

### ÈÅ∑ÁßªÊµÅÁ®ã

```
1. Ê™¢Êü•ÈÅ∑ÁßªÈúÄÊ±Ç (needsMigration)
   ‚Üì
2. ÂÇô‰ªΩÁèæÊúâÊï∏Êìö (backupExistingData)
   ‚Üì
3. Êï∏ÊìöËΩâÊèõ
   ‚îú‚îÄ‚îÄ Èå¶Ê®ôË≥ΩÂü∫Êú¨Êï∏Êìö (migrateTournamentData)
   ‚îú‚îÄ‚îÄ ÊäïË≥áÁµÑÂêàÊï∏Êìö (migratePortfolioData)
   ‚îú‚îÄ‚îÄ ‰∫§ÊòìË®òÈåÑ (migrateTradeRecords)
   ‚îî‚îÄ‚îÄ ÊéíÂêçÊï∏Êìö (migrateRankingData)
   ‚Üì
4. È©óË≠âÈÅ∑ÁßªÁµêÊûú (validateMigration)
   ‚Üì
5. Ê∏ÖÁêÜËàäÊï∏Êìö (cleanupOldData)
```

### ‰ΩøÁî®ÊñπÊ≥ï

```swift
// Âú®ÊáâÁî®ÂïüÂãïÊôÇ
if TournamentDataMigration.shared.needsMigration() {
    do {
        try await TournamentDataMigration.shared.performMigration()
        print("‚úÖ Êï∏ÊìöÈÅ∑ÁßªÂÆåÊàê")
    } catch {
        print("‚ùå ÈÅ∑ÁßªÂ§±Êïó: \(error)")
        // ËôïÁêÜÈÅ∑ÁßªÂ§±Êïó
    }
}
```

### Êï∏ÊìöÊò†Â∞Ñ

| ËàäÊ®°Âûã | Êñ∞Ê®°Âûã | ËΩâÊèõÈÇèËºØ |
|--------|--------|----------|
| `LegacyTournament` | `Tournament` | Â≠óÊÆµÈáçÂëΩÂêçÂíåÊñ∞Â¢ûÈªòË™çÂÄº |
| `LegacyTournamentPortfolio` | `TournamentWallet` | ÁµêÊßãÈáçÁµÑÂíåIDÁîüÊàê |
| `LegacyTradingRecord` | `TournamentTrade` | ÊûöËàâËΩâÊèõÂíåÁãÄÊÖãË®≠ÂÆö |
| `LegacyRanking` | `TournamentRanking` | Áõ¥Êé•Êò†Â∞Ñ |

---

## üöÄ ÈÉ®ÁΩ≤ÊåáÂçó

### ÈñãÁôºÁí∞Â¢ÉË®≠ÂÆö

1. **cloneÂ∞àÊ°à**
   ```bash
   git clone <repository-url>
   cd Invest_V3
   ```

2. **ÂÆâË£ù‰æùË≥¥**
   ```bash
   # Â¶ÇÊûú‰ΩøÁî® CocoaPods
   pod install
   
   # Â¶ÇÊûú‰ΩøÁî® SPM (Â∑≤ÈÖçÁΩÆ)
   # ‰æùË≥¥ÊúÉËá™Âãï‰∏ãËºâ
   ```

3. **ÈÖçÁΩÆÁí∞Â¢ÉËÆäÊï∏**
   ```swift
   // Âú® SupabaseService ‰∏≠ÈÖçÁΩÆ
   let supabaseURL = "YOUR_SUPABASE_URL"
   let supabaseKey = "YOUR_SUPABASE_ANON_KEY"
   ```

4. **Ë≥áÊñôÂ∫´Ë®≠ÂÆö**
   ```sql
   -- Âü∑Ë°å tournament_schema.sql
   -- ÂâµÂª∫ÂøÖË¶ÅÁöÑË°®ÂíåÂáΩÊï∏
   ```

### ÁîüÁî¢Áí∞Â¢ÉÈÉ®ÁΩ≤

1. **Âª∫ÁΩÆÈÖçÁΩÆ**
   ```bash
   # Release Âª∫ÁΩÆ
   xcodebuild archive \
     -project Invest_V3.xcodeproj \
     -scheme Invest_V3 \
     -archivePath Invest_V3.xcarchive
   ```

2. **Ê∏¨Ë©¶Ê™¢Êü•**
   ```bash
   # ÈÅãË°åÂÆåÊï¥Ê∏¨Ë©¶Â•ó‰ª∂
   ./Scripts/run_tournament_tests.sh all
   ```

3. **App Store Êèê‰∫§**
   - ÈÄöÈÅéÊâÄÊúâÊ∏¨Ë©¶
   - Êõ¥Êñ∞ÁâàÊú¨Ëôü
   - Ê∫ñÂÇôÁôºÂ∏ÉË™™Êòé

---

## üîß Á∂≠Ë≠∑ÊâãÂÜä

### Êó•Â∏∏Á∂≠Ë≠∑‰ªªÂãô

#### üìä Áõ£ÊéßÊåáÊ®ô
- **Èå¶Ê®ôË≥ΩÊ¥ªË∫çÂ∫¶**: ÊØèÊó•Êñ∞Â¢û/ÈÄ≤Ë°å‰∏≠Èå¶Ê®ôË≥ΩÊï∏Èáè
- **Áî®Êà∂ÂèÉËàá**: Â†±ÂêçÁéá„ÄÅÂÆåÊàêÁéá
- **Á≥ªÁµ±ÊÄßËÉΩ**: ÊéíË°åÊ¶úÊõ¥Êñ∞ÊôÇÈñì„ÄÅ‰∫§ÊòìÈüøÊáâÊôÇÈñì
- **ÈåØË™§Áéá**: APIË™øÁî®Â§±ÊïóÁéá„ÄÅÂ¥©ÊΩ∞Áéá

#### üîÑ ÂÆöÊúü‰ªªÂãô
| È†ªÁéá | ‰ªªÂãô | Ë≤†Ë≤¨‰∫∫ |
|------|------|--------|
| **ÊØèÊó•** | Ê™¢Êü•Èå¶Ê®ôË≥ΩÁãÄÊÖã„ÄÅËôïÁêÜÁï∞Â∏∏ÁµêÁÆó | ÈñãÁôºÂúòÈöä |
| **ÊØèÈÄ±** | ÈÅãË°åÂÆåÊï¥Ê∏¨Ë©¶Â•ó‰ª∂„ÄÅÊÄßËÉΩÊ™¢Êü• | QAÂúòÈöä |
| **ÊØèÊúà** | Êï∏ÊìöÂÇô‰ªΩ„ÄÅÂÆâÂÖ®ÊÄßÊ™¢Êü• | DevOps |
| **ÊØèÂ≠£** | Êû∂ÊßãÂõûÈ°ß„ÄÅ‰æùË≥¥Êõ¥Êñ∞ | Êû∂ÊßãÂ∏´ |

### Â∏∏Ë¶ãÁ∂≠Ë≠∑Êìç‰Ωú

#### 1. ÊâãÂãïËß∏ÁôºÈå¶Ê®ôË≥ΩÁµêÁÆó
```swift
// Â¶ÇÊûúËá™ÂãïÁµêÁÆóÂ§±Êïó
let tournamentId = UUID(uuidString: "...")!
let results = try await workflowService.settleTournament(tournamentId: tournamentId)
```

#### 2. ‰øÆÂæ©Èå¶Ê®ôË≥ΩÁãÄÊÖã
```sql
-- Â¶ÇÊûúÈå¶Ê®ôË≥ΩÁãÄÊÖãÁï∞Â∏∏
UPDATE tournaments 
SET status = 'ended' 
WHERE id = 'tournament-id' AND end_date < NOW();
```

#### 3. ÈáçÊñ∞Ë®àÁÆóÊéíË°åÊ¶ú
```swift
// Â¶ÇÊûúÊéíË°åÊ¶úÊï∏ÊìöÁï∞Â∏∏
let rankings = try await workflowService.updateLiveRankings(tournamentId: tournamentId)
```

#### 4. Êï∏Êìö‰∏ÄËá¥ÊÄßÊ™¢Êü•
```sql
-- Ê™¢Êü•ÂèÉËàáËÄÖÊï∏Èáè‰∏ÄËá¥ÊÄß
SELECT t.id, t.current_participants, COUNT(tp.user_id) as actual_count
FROM tournaments t
LEFT JOIN tournament_participants tp ON t.id = tp.tournament_id
GROUP BY t.id, t.current_participants
HAVING t.current_participants != COUNT(tp.user_id);
```

### ÊÄßËÉΩÂÑ™Âåñ

#### 1. Ë≥áÊñôÂ∫´ÂÑ™Âåñ
```sql
-- Ê∑ªÂä†Á¥¢Âºï
CREATE INDEX idx_tournaments_status ON tournaments(status);
CREATE INDEX idx_tournament_trades_tournament_user ON tournament_trades(tournament_id, user_id);
CREATE INDEX idx_tournament_trades_executed_at ON tournament_trades(executed_at);
```

#### 2. Âø´ÂèñÁ≠ñÁï•
```swift
// ÂØ¶ÁèæÊéíË°åÊ¶úÂø´Âèñ
class RankingCache {
    private var cache: [UUID: ([TournamentRanking], Date)] = [:]
    private let cacheTimeout: TimeInterval = 30 // 30Áßí
    
    func getRankings(for tournamentId: UUID) -> [TournamentRanking]? {
        // Âø´ÂèñÈÇèËºØ
    }
}
```

---

## üö® ÊïÖÈöúÊéíÈô§

### Â∏∏Ë¶ãÂïèÈ°åÂíåËß£Ê±∫ÊñπÊ°à

#### 1. Èå¶Ê®ôË≥ΩÂâµÂª∫Â§±Êïó
**ÁóáÁãÄ**: ÂâµÂª∫Èå¶Ê®ôË≥ΩÊôÇÊããÂá∫ÈåØË™§
**ÂèØËÉΩÂéüÂõ†**:
- ÂèÉÊï∏È©óË≠âÂ§±Êïó
- Ë≥áÊñôÂ∫´ÈÄ£Êé•ÂïèÈ°å
- Ê¨äÈôê‰∏çË∂≥

**Ëß£Ê±∫Ê≠•È©ü**:
```swift
// 1. Ê™¢Êü•ÂèÉÊï∏
let parameters = TournamentCreationParameters(...)
print("Parameters valid: \(parameters.isValid)")

// 2. Ê™¢Êü•Ë≥áÊñôÂ∫´ÈÄ£Êé•
try await SupabaseService.shared.client.from("tournaments").select().limit(1).execute()

// 3. Ê™¢Êü•ÈåØË™§Êó•Ë™å
```

#### 2. ÊéíË°åÊ¶úÊõ¥Êñ∞Á∑©ÊÖ¢
**ÁóáÁãÄ**: ÊéíË°åÊ¶úÊõ¥Êñ∞ÊôÇÈñìË∂ÖÈÅé30Áßí
**ÂèØËÉΩÂéüÂõ†**:
- ÂèÉËàáËÄÖÊï∏ÈáèÈÅéÂ§ö
- Ë®àÁÆóÈÇèËºØË§áÈõú
- Ë≥áÊñôÂ∫´ÊÄßËÉΩÂïèÈ°å

**Ëß£Ê±∫Ê≠•È©ü**:
```swift
// 1. Ê∑ªÂä†ÊÄßËÉΩÁõ£Êéß
let startTime = Date()
let rankings = try await rankingService.updateLiveRankings(tournamentId: tournamentId)
let duration = Date().timeIntervalSince(startTime)
print("Ranking update took: \(duration) seconds")

// 2. ÂÑ™ÂåñÊü•Ë©¢
// 3. ËÄÉÊÖÆÂàÜÈ†ÅËôïÁêÜ
```

#### 3. ‰∫§ÊòìÂü∑Ë°åÂ§±Êïó
**ÁóáÁãÄ**: Áî®Êà∂‰∫§ÊòìÁÑ°Ê≥ïÂü∑Ë°å
**ÂèØËÉΩÂéüÂõ†**:
- È§òÈ°ç‰∏çË∂≥
- Èå¶Ê®ôË≥ΩÁãÄÊÖã‰∏çÊ≠£Á¢∫
- ‰∫§ÊòìË¶èÂâáÈÅïÂèç

**Ëß£Ê±∫Ê≠•È©ü**:
```swift
// 1. Ê™¢Êü•Èå¢ÂåÖÁãÄÊÖã
let wallet = try await walletService.getWallet(tournamentId: tournamentId, userId: userId)
print("Cash: \(wallet?.cash ?? 0)")

// 2. Ê™¢Êü•Èå¶Ê®ôË≥ΩÁãÄÊÖã
let tournament = try await tournamentService.getTournament(id: tournamentId)
print("Tournament status: \(tournament?.status ?? .unknown)")

// 3. È©óË≠â‰∫§ÊòìË´ãÊ±Ç
let isValid = tradeService.validateTrade(request)
print("Trade valid: \(isValid)")
```

### Èô§ÈåØÂ∑•ÂÖ∑

#### 1. Êó•Ë™åÁ≥ªÁµ±
```swift
// ‰ΩøÁî®Áµ±‰∏ÄÁöÑÊó•Ë™åÊ†ºÂºè
Logger.tournament.info("üèÜ Tournament created: \(tournament.id)")
Logger.tournament.error("‚ùå Trade execution failed: \(error)")
Logger.tournament.debug("üîç Ranking calculation started for \(tournamentId)")
```

#### 2. ÊÄßËÉΩÁõ£Êéß
```swift
// ÊÄßËÉΩÁõ£ÊéßÂ∑•ÂÖ∑
class PerformanceMonitor {
    static func measure<T>(_ operation: () async throws -> T, name: String) async rethrows -> T {
        let startTime = Date()
        let result = try await operation()
        let duration = Date().timeIntervalSince(startTime)
        print("‚ö° \(name) took \(duration) seconds")
        return result
    }
}
```

#### 3. ÂÅ•Â∫∑Ê™¢Êü•
```swift
// Á≥ªÁµ±ÂÅ•Â∫∑Ê™¢Êü•
class TournamentHealthCheck {
    func performHealthCheck() async -> HealthReport {
        // Ê™¢Êü•ÊúçÂãôÁãÄÊÖã
        // Ê™¢Êü•Ë≥áÊñôÂ∫´ÈÄ£Êé•
        // Ê™¢Êü•Âø´ÂèñÁãÄÊÖã
        // ËøîÂõûÂÅ•Â∫∑Â†±Âëä
    }
}
```

---

## üë®‚Äçüíª ÈñãÁôºÊåáÂçó

### Á∑®Á¢ºË¶èÁØÑ

#### 1. ÂëΩÂêçÁ¥ÑÂÆö
```swift
// ÊúçÂãôÈ°û
class TournamentXXXService { ... }

// Êï∏ÊìöÊ®°Âûã
struct Tournament { ... }
struct TournamentRules { ... }

// Ë¶ñÂúñ
struct TournamentXXXView: View { ... }

// ÈåØË™§È°ûÂûã
enum TournamentWorkflowError: LocalizedError { ... }
```

#### 2. Êñá‰ª∂ÁµÑÁπî
```
Services/
‚îú‚îÄ‚îÄ TournamentWorkflowService.swift
‚îú‚îÄ‚îÄ TournamentService.swift
‚îú‚îÄ‚îÄ TournamentTradeService.swift
‚îú‚îÄ‚îÄ TournamentWalletService.swift
‚îú‚îÄ‚îÄ TournamentRankingService.swift
‚îî‚îÄ‚îÄ TournamentBusinessService.swift

Models/
‚îú‚îÄ‚îÄ Tournament.swift
‚îú‚îÄ‚îÄ TournamentRules.swift
‚îú‚îÄ‚îÄ TournamentTrade.swift
‚îî‚îÄ‚îÄ TournamentWallet.swift

Views/
‚îú‚îÄ‚îÄ ModernTournamentSelectionView.swift
‚îú‚îÄ‚îÄ TournamentDetailView.swift
‚îú‚îÄ‚îÄ TournamentCreationView.swift
‚îî‚îÄ‚îÄ LiveTournamentRankingsView.swift
```

#### 3. ÈåØË™§ËôïÁêÜ
```swift
// ‰ΩøÁî®Â∞àÁî®ÈåØË™§È°ûÂûã
enum TournamentWorkflowError: LocalizedError {
    case tournamentNotFound(String)
    case tournamentFull(String)
    case invalidParameters(String)
    case insufficientFunds(String)
    case tournamentNotEnded(String)
    
    var errorDescription: String? {
        switch self {
        case .tournamentNotFound(let message):
            return "Èå¶Ê®ôË≥ΩÊú™ÊâæÂà∞: \(message)"
        // ... ÂÖ∂‰ªñÊÉÖÊ≥Å
        }
    }
}
```

### Êñ∞Â¢ûÂäüËÉΩÊåáÂçó

#### 1. Êñ∞Â¢ûÈå¶Ê®ôË≥ΩÈ°ûÂûã
```swift
// 1. Êõ¥Êñ∞ TournamentRules
struct TournamentRules {
    let tournamentType: TournamentType // Êñ∞Â¢û
    // ... ÂÖ∂‰ªñÂ±¨ÊÄß
}

enum TournamentType: String, CaseIterable {
    case standard = "standard"
    case crypto = "crypto"    // Êñ∞Â¢ûÂä†ÂØÜË≤®Âπ£Èå¶Ê®ôË≥Ω
    case options = "options"  // Êñ∞Â¢ûÈÅ∏ÊìáÊ¨äÈå¶Ê®ôË≥Ω
}

// 2. Êõ¥Êñ∞ÊúçÂãôÈÇèËºØ
extension TournamentTradeService {
    func validateCryptoTrade(_ request: TournamentTradeRequest) -> Bool {
        // Âä†ÂØÜË≤®Âπ£‰∫§ÊòìÈ©óË≠âÈÇèËºØ
    }
}

// 3. Êõ¥Êñ∞UI
// Âú® TournamentCreationView ‰∏≠Ê∑ªÂä†È°ûÂûãÈÅ∏Êìá
```

#### 2. Êñ∞Â¢ûÊéíÂêçÁÆóÊ≥ï
```swift
// 1. ÂÆöÁæ©Êñ∞ÁÆóÊ≥ï
enum RankingAlgorithm: String {
    case twr = "twr"           // ÊôÇÈñìÂä†Ê¨äÂ†±ÈÖ¨Áéá
    case absolute = "absolute"  // ÁµïÂ∞çÂ†±ÈÖ¨
    case sharpe = "sharpe"     // Â§èÊôÆÊØîÁéá (Êñ∞Â¢û)
}

// 2. ÂØ¶ÁèæÁÆóÊ≥ï
extension TournamentRankingService {
    func calculateSharpeRanking(for tournamentId: UUID) async throws -> [TournamentRanking] {
        // Â§èÊôÆÊØîÁéáÊéíÂêçË®àÁÆóÈÇèËºØ
    }
}

// 3. Êõ¥Êñ∞Â∑•‰ΩúÊµÅÁ®ãÊúçÂãô
// Âú® updateLiveRankings ‰∏≠ÊîØÊè¥Êñ∞ÁÆóÊ≥ï
```

### Ê∏¨Ë©¶ÈñãÁôºÊåáÂçó

#### 1. Êñ∞Â¢ûÊ∏¨Ë©¶
```swift
// ÁÇ∫Êñ∞ÂäüËÉΩÊ∑ªÂä†Ê∏¨Ë©¶
func testNewFeature() async throws {
    // Arrange
    let testData = createTestData()
    
    // Act
    let result = try await service.newFeature(testData)
    
    // Assert
    XCTAssertEqual(result.expectedProperty, expectedValue)
}
```

#### 2. Mock ÊúçÂãôÊõ¥Êñ∞
```swift
// Êõ¥Êñ∞ Mock ÊúçÂãô‰ª•ÊîØÊè¥Êñ∞ÂäüËÉΩ
class MockTournamentService: TournamentService {
    var newFeatureResult: NewFeatureResult?
    
    override func newFeature(_ input: Input) async throws -> NewFeatureResult {
        if let result = newFeatureResult {
            return result
        }
        throw MockError.notConfigured
    }
}
```

### ÁâàÊú¨ÁôºÂ∏ÉÊµÅÁ®ã

#### 1. ÂäüËÉΩÈñãÁôº
```bash
# ÂâµÂª∫ÂäüËÉΩÂàÜÊîØ
git checkout -b feature/new-tournament-type

# ÈñãÁôºÂäüËÉΩ
# Ê∑ªÂä†Ê∏¨Ë©¶
# Êõ¥Êñ∞ÊñáÊ™î

# Êèê‰∫§‰ª£Á¢º
git commit -m "Add new tournament type support"
```

#### 2. Ê∏¨Ë©¶È©óË≠â
```bash
# ÈÅãË°åÊâÄÊúâÊ∏¨Ë©¶
./Scripts/run_tournament_tests.sh all

# Ê™¢Êü•Ê∏¨Ë©¶Ë¶ÜËìãÁéá
# Âü∑Ë°åÊÄßËÉΩÊ∏¨Ë©¶
# ÈÄ≤Ë°åÁî®Êà∂È©óÊî∂Ê∏¨Ë©¶
```

#### 3. ‰ª£Á¢ºÂØ©Êü•
- Ê™¢Êü•‰ª£Á¢ºÂìÅË≥™
- È©óË≠âÊû∂Êßã‰∏ÄËá¥ÊÄß
- Á¢∫Ë™çÊ∏¨Ë©¶ÂÖÖÂàÜÊÄß
- Ê™¢Êü•ÊñáÊ™îÊõ¥Êñ∞

#### 4. Âêà‰ΩµÂíåÁôºÂ∏É
```bash
# Âêà‰ΩµÂà∞‰∏ªÂàÜÊîØ
git checkout main
git merge feature/new-tournament-type

# Ê®ôË®òÁâàÊú¨
git tag v2.1.0

# Êé®ÈÄÅÂà∞ÈÅ†Á®ã
git push origin main --tags
```

---

## üìö ÂèÉËÄÉË≥áÊñô

### Â§ñÈÉ®ÊñáÊ™î
- [SwiftUI Documentation](https://developer.apple.com/documentation/swiftui)
- [Supabase Swift Client](https://github.com/supabase/supabase-swift)
- [XCTest Documentation](https://developer.apple.com/documentation/xctest)

### ÂÖßÈÉ®Ë≥áÊ∫ê
- [CLAUDE.md](./CLAUDE.md) - È†ÖÁõÆÈñãÁôºÊåáÂçó
- [README.md](./README.md) - È†ÖÁõÆÊ¶ÇË¶Ω
- [API Documentation](./docs/API.md) - APIÊñáÊ™î

### Êû∂ÊßãÊ±∫Á≠ñË®òÈåÑ (ADR)

#### ADR-001: ÂæÆÊúçÂãôÊû∂ÊßãÈÅ∏Êìá
**Êó•Êúü**: 2025-08-12  
**ÁãÄÊÖã**: Êé•Âèó  
**ËÉåÊôØ**: ÈúÄË¶ÅÂ∞áÈå¶Ê®ôË≥ΩÂäüËÉΩÂæûÂñÆÈ´îÊû∂ÊßãÊãÜÂàÜÁÇ∫ÂèØÁ∂≠Ë≠∑ÁöÑÂæÆÊúçÂãô  
**Ê±∫Á≠ñ**: Êé°Áî®Âü∫ÊñºÊúçÂãôÁöÑÊû∂ÊßãÔºåÈÄöÈÅé TournamentWorkflowService ÂçîË™øÂêÑÂÄãÂ∞àÈñÄÊúçÂãô  
**ÂæåÊûú**: ÊèêÈ´ò‰∫Ü‰ª£Á¢ºÂèØÁ∂≠Ë≠∑ÊÄßÂíåÊ∏¨Ë©¶Ë¶ÜËìãÁéáÔºå‰ΩÜÂ¢ûÂä†‰∫ÜÂàùÂßãË§áÈõúÊÄß  

#### ADR-002: Â∑•‰ΩúÊµÅÁ®ãÊúçÂãôÊ®°Âºè
**Êó•Êúü**: 2025-08-12  
**ÁãÄÊÖã**: Êé•Âèó  
**ËÉåÊôØ**: ÈúÄË¶ÅÁµ±‰∏ÄÁÆ°ÁêÜË§áÈõúÁöÑÈå¶Ê®ôË≥ΩÊ•≠ÂãôÊµÅÁ®ã  
**Ê±∫Á≠ñ**: ÂºïÂÖ• TournamentWorkflowService ‰ΩúÁÇ∫ÂçîË™øÂ±§  
**ÂæåÊûú**: Á∞°Âåñ‰∫ÜÊ•≠ÂãôÈÇèËºØÔºåÊèê‰æõ‰∫ÜÁµ±‰∏ÄÁöÑÈåØË™§ËôïÁêÜÂíå‰∫ãÂãôÁÆ°ÁêÜ  

---

## üìã Á∂≠Ë≠∑Ê™¢Êü•Ê∏ÖÂñÆ

### ÊúàÂ∫¶Ê™¢Êü• ‚úÖ

- [ ] ÈÅãË°åÂÆåÊï¥Ê∏¨Ë©¶Â•ó‰ª∂
- [ ] Ê™¢Êü•ÊÄßËÉΩÊåáÊ®ô
- [ ] ÂØ©Êü•ÈåØË™§Êó•Ë™å
- [ ] È©óË≠âÊï∏Êìö‰∏ÄËá¥ÊÄß
- [ ] Êõ¥Êñ∞‰æùË≥¥ÁâàÊú¨
- [ ] ÂÇô‰ªΩÈáçË¶ÅÊï∏Êìö
- [ ] Ê™¢Êü•ÂÆâÂÖ®ÊÄßÂïèÈ°å

### Â≠£Â∫¶Ê™¢Êü• ‚úÖ

- [ ] Êû∂ÊßãÂõûÈ°ßÂíåÂÑ™Âåñ
- [ ] ‰ª£Á¢ºË≥™ÈáèÂàÜÊûê
- [ ] Áî®Êà∂ÂèçÈ•ãÂàÜÊûê
- [ ] Á´∂Áà≠ÂàÜÊûê
- [ ] ÊäÄË°ìÂÇµÂãôË©ï‰º∞
- [ ] ÁÅΩÈõ£ÊÅ¢Âæ©ÊºîÁ∑¥
- [ ] ÊñáÊ™îÊõ¥Êñ∞

### Âπ¥Â∫¶Ê™¢Êü• ‚úÖ

- [ ] ÂÆåÊï¥Êû∂ÊßãÂØ©Êü•
- [ ] ÊäÄË°ìÊ£ßË©ï‰º∞
- [ ] ÂÆâÂÖ®ÊÄßÂØ©Ë®à
- [ ] ÊÄßËÉΩÂü∫Ê∫ñÊ∏¨Ë©¶
- [ ] ÂúòÈöäÂüπË®ìË®àÂäÉ
- [ ] Â∑•ÂÖ∑ÂíåÊµÅÁ®ãÊîπÈÄ≤

---

## üè∑ ÁâàÊú¨Ê≠∑Âè≤

| ÁâàÊú¨ | Êó•Êúü | ËÆäÊõ¥ÂÖßÂÆπ |
|------|------|----------|
| **2.0.0** | 2025-08-12 | ÂÆåÊï¥Á≥ªÁµ±ÈáçÊßãÔºåÊñ∞Ê∏¨Ë©¶È´îÁ≥ªÔºåÊï∏ÊìöÈÅ∑Áßª |
| **1.5.0** | 2025-08-10 | ÂØ¶ÊôÇÊéíË°åÊ¶úÂäüËÉΩ |
| **1.4.0** | 2025-08-08 | Èå¶Ê®ôË≥ΩÁµêÁÆóÁ≥ªÁµ± |
| **1.3.0** | 2025-08-05 | ‰∫§ÊòìÂäüËÉΩÂº∑Âåñ |
| **1.2.0** | 2025-08-03 | Áî®Êà∂ÁïåÈù¢Áèæ‰ª£Âåñ |
| **1.1.0** | 2025-08-01 | Âü∫Á§éÈå¶Ê®ôË≥ΩÂäüËÉΩ |
| **1.0.0** | 2025-07-30 | ÂàùÂßãÁâàÊú¨ |

---

## üìû ËÅØÁµ°Ë≥áË®ä

**È†ÖÁõÆË≤†Ë≤¨‰∫∫**: ÈñãÁôºÂúòÈöä  
**Á∂≠Ë≠∑ÂúòÈöä**: Invest_V3 ÈñãÁôºÁµÑ  
**Á∑äÊÄ•ËÅØÁµ°**: [Á∑äÊÄ•ËÅØÁµ°‰ø°ÊÅØ]  

**ÊúÄÂæåÊõ¥Êñ∞**: 2025-08-12  
**‰∏ãÊ¨°ÂØ©Êü•**: 2025-09-12  

---

*üìù Êú¨ÊñáÊ™îÊòØ Invest_V3 Èå¶Ê®ôË≥ΩÁ≥ªÁµ±ÁöÑÂÆåÊï¥Á∂≠Ë≠∑ÊåáÂçó„ÄÇÂ¶ÇÊúâ‰ªª‰ΩïÂïèÈ°åÊàñÂª∫Ë≠∞ÔºåË´ãÈÄöÈÅéÈ†ÖÁõÆ Issues ÂèçÈ•ã„ÄÇ*