# 📱 投資模擬交易平台 - iOS 前端設置指南

## 🎯 專案概述

我們已經為你的投資模擬交易平台創建了完整的 iOS 前端，包含：

### ✅ 已完成的功能

1. **用戶認證系統**
   - OTP 手機驗證
   - 邀請碼獎勵機制
   - JWT 認證

2. **交易功能**
   - 股票清單與搜尋
   - 即時股價查詢
   - 買賣下單功能
   - 手續費計算

3. **投資組合管理**
   - 資產總覽
   - 持股明細
   - 損益計算
   - 交易記錄

4. **排行榜系統**
   - 用戶排名
   - 績效比較
   - 多期間排行

## 📂 新增的檔案

### 核心服務
- `TradingService.swift` - 主要 API 服務類
- `TradingModels.swift` - 資料模型定義

### 使用者介面
- `TradingAppView.swift` - 主要應用入口
- `TradingAuthView.swift` - 認證登入頁面
- `TradingMainView.swift` - 主要 TabView 介面
- `StockMarketView.swift` - 股票市場頁面
- `TradingView.swift` - 交易頁面
- `TradeOrderView.swift` - 下單頁面
- `PortfolioView.swift` - 投資組合頁面
- `RankingsView.swift` - 排行榜頁面

## 🚀 如何測試

### 1. 啟動後端服務
後端測試服務已經在 `localhost:5001` 運行中。

### 2. 更新 Xcode 專案

你需要在 Xcode 中做以下設置：

**Option A: 替換現有的 ContentView（建議）**
```swift
// 在 MainAppView.swift 中，將 ContentView() 替換為：
TradingAppView()
    .environmentObject(authService)
```

**Option B: 創建新的入口點**
```swift
// 在 Invest_V3App.swift 中：
var body: some Scene {
    WindowGroup {
        TradingAppView()  // 替換 MainAppView()
    }
}
```

### 3. 測試流程

1. **啟動應用**
   - 應用會自動檢測後端連接
   - 看到綠色的「✅ 後端服務已連線」提示

2. **用戶註冊/登入**
   - 輸入台灣手機號碼（例如：912345678）
   - 點擊「發送驗證碼」
   - 輸入顯示的 OTP（開發模式下會顯示）
   - 可選輸入邀請碼獲得 NT$100,000 獎勵

3. **探索功能**
   - 📊 首頁：查看投資組合總覽
   - 📈 市場：瀏覽股票清單
   - 💰 交易：執行買賣操作
   - 📁 投資組合：查看持股和績效
   - 👑 排行榜：查看用戶排名

## 🧪 測試用資料

### 測試手機號碼
- 任何台灣手機號碼格式（例如：912345678）

### 測試股票
- 2330 (台積電)
- 2317 (鴻海)
- 2454 (聯發科)
- 2881 (富邦金)
- 2882 (國泰金)

### 測試交易
- 初始資金：NT$1,000,000
- 手續費：0.1425%
- 證券交易稅：0.3%（僅賣出）

## 🎨 設計特色

### 色彩主題
- 主色調：品牌綠色 (#33B347)
- 上漲：綠色
- 下跌：紅色
- 中性：灰色

### 介面特點
- SwiftUI 原生設計
- 卡片式佈局
- 響應式動畫
- 清晰的資訊層次

## 🔧 下一步開發

### 即將完成的功能
1. **圖表整合**
   - K線圖
   - 績效走勢圖
   - 資產分配圖

2. **進階功能**
   - 股票關注清單
   - 價格提醒
   - 推播通知

3. **Supabase 整合**
   - 更新正確的 service key
   - 連接真實資料庫
   - 即時資料同步

## 📱 系統需求

- iOS 15.0+
- Xcode 14.0+
- Swift 5.7+

## 🐛 常見問題

### Q: 應用顯示「後端服務連線失敗」
A: 確認後端服務在 localhost:5001 運行，檢查防火牆設定

### Q: OTP 驗證失敗
A: 開發模式下，OTP 會在回應中顯示，直接複製使用

### Q: 股票價格不更新
A: 目前使用模擬資料，每次查詢會有小幅度的隨機變化

### Q: 交易失敗
A: 檢查餘額是否足夠，確認股數和價格輸入正確

## 🎉 恭喜！

你的投資模擬交易平台 iOS 前端已經完成！現在你可以：

1. 體驗完整的交易流程
2. 測試所有功能模組
3. 根據需求調整介面
4. 準備連接正式的 Supabase 服務

準備好開始測試了嗎？🚀