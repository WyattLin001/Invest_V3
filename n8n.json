{
  "name": "æ¯æ—¥ 7AM æŠ•è³‡æ–‡ç« è‡ªå‹•ç”Ÿæˆ",
  "nodes": [
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "days",
              "value": 1
            }
          ]
        },
        "triggerAtHour": 7,
        "triggerAtMinute": 0,
        "triggerAtSecond": 0
      },
      "name": "æ¯æ—¥è§¸ç™¼",
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1,
      "position": [250, 150]
    },
    {
      "parameters": {
        "resource": "rssFeed",
        "operation": "getAll",
        "rssFeedUrl": "={{ $json[\"rssUrl\"] }}",
        "limit": 3
      },
      "name": "æ‹‰å–ä»Šæ—¥ RSS",
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1,
      "position": [450, 150],
      "credentials": {
        "rssFeedReadApi": {}
      }
    },
    {
      "parameters": {
        "functionCode": "const topics = items[0].json;\nconst headlines = topics.map(i=>i.title).join('; ');\nreturn [{ json: { headlines } }];"
      },
      "name": "æå–æ¨™é¡Œæ‘˜è¦",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [650, 150]
    },
    {
      "parameters": {
        "model": "gpt-o3",
        "temperature": 0.7,
        "maxTokens": 1500,
        "prompt": "ä½ æ˜¯è‚¡åœˆæŠ•è³‡å¹³å°çš„å°ˆæ¥­è²¡ç¶“åˆ†æå¸«ã€‚åŸºæ–¼ä»¥ä¸‹æ–°èæ‘˜è¦ï¼Œæ’°å¯«ä¸€ç¯‡é‡å°å°ç£æŠ•è³‡è€…çš„æ·±åº¦åˆ†ææ–‡ç« ï¼š\n\nä»Šæ—¥æ–°èæ‘˜è¦ï¼š{{ $json.headlines }}\n\nè«‹ä¾ç…§ä»¥ä¸‹æ ¼å¼æ’°å¯«ï¼š\n# æ¨™é¡Œï¼ˆ20å­—å…§ï¼‰\n\n## é—œéµè¦é»ï¼ˆ3é»ï¼‰\n\n## æ·±åº¦åˆ†æ\n\n## æŠ•è³‡å•Ÿç¤º\n\n## é¢¨éšªæé†’\n\næ–‡ç« é¢¨æ ¼ï¼šå°ˆæ¥­ä½†æ˜“æ‡‚ï¼Œ800-1000å­—ã€‚"
      },
      "name": "AI ç”Ÿæˆæ–‡ç« ",
      "type": "n8n-nodes-base.openAi",
      "typeVersion": 2,
      "position": [850, 150],
      "credentials": {
        "openAIApi": {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
          "id": "OpenAI API",
          "name": "OpenAI API"
        }
      }
    },
    {
      "parameters": {
        "operation": "insert",
        "table": "auto_articles",
        "columnsUi": {
          "column": [
            {
              "column": "title",
              "value": "={{ $json.choices[0].message.content.split('\\n')[0].replace('# ', '') }}"
            },
            {
              "column": "content",
              "value": "={{ $json.choices[0].message.content }}"
            },
            {
              "column": "category",
              "value": "investment_analysis"
            },
            {
              "column": "status",
              "value": "draft"
            },
            {
              "column": "ai_model",
              "value": "gpt-o3"
            },
            {
              "column": "generation_cost",
              "value": "={{ ($json.usage.prompt_tokens * 0.000002 + $json.usage.completion_tokens * 0.000008).toFixed(4) }}"
            },
            {
              "column": "source_seeds",
              "value": "=[]
            }
          ]
        }
      },
      "name": "ä¿å­˜è‰ç¨¿è‡³ Supabase",
      "type": "n8n-nodes-base.supabase",
      "typeVersion": 1,
      "position": [1050, 150],
      "credentials": {
        "supabaseApi": {
          "id": "Supabase",
          "name": "Supabase"
        }
      }
    },
    {
      "parameters": {
        "channel": "#content-review",
        "text": "ğŸ“ æ–°æ–‡ç« å·²ç”Ÿæˆï¼Œè«‹å¿«é€Ÿå¯©æ ¸ï¼š\næ¨™é¡Œï¼š{{ $json as any }}\né€£çµï¼š{{ $env.ADMIN_URL }}/drafts"
      },
      "name": "Slack é€šçŸ¥å¯©æ ¸",
      "type": "n8n-nodes-base.slack",
      "typeVersion": 1,
      "position": [1250, 150],
      "credentials": {
        "slackApi": {
          "id": "Slack API",
          "name": "Slack API"
        }
      }
    }
  ],
  "connections": {
    "æ¯æ—¥è§¸ç™¼": {
      "main": [
        [
          {
            "node": "æ‹‰å–ä»Šæ—¥ RSS",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ‹‰å–ä»Šæ—¥ RSS": {
      "main": [
        [
          {
            "node": "æå–æ¨™é¡Œæ‘˜è¦",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æå–æ¨™é¡Œæ‘˜è¦": {
      "main": [
        [
          {
            "node": "AI ç”Ÿæˆæ–‡ç« ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI ç”Ÿæˆæ–‡ç« ": {
      "main": [
        [
          {
            "node": "ä¿å­˜è‰ç¨¿è‡³ Supabase",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ä¿å­˜è‰ç¨¿è‡³ Supabase": {
      "main": [
        [
          {
            "node": "Slack é€šçŸ¥å¯©æ ¸",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {},
  "tags": []
}